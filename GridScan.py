###
# GridScan.py
# Top level python module to load the gridscan mainwindow and handle events
# generated by user interactions.
###
from PyQt4 import QtCore, QtGui, uic
from epics import caget, cainfo, caput
from MyCAEpics import *
import sys

class gridscan(QtGui.QMainWindow):

    def __init__(self):
        QtGui.QWidget.__init__(self)
        self.ui = uic.loadUi(" "
                             "gridscan_mainwin.ui", self)
        print "We get to here "
        curval = caget ("Dera:m1.VAL")
        s="%7.4f"%(val)
        self.ui.x_CurLocLE.setText(s)
        self.ui.x_CenterLocLE.setText(s)
        self.ui.x_IncLE.setText(".01")
        self.ui.x_MovLocLE.setText(s)
        self.ca = MyCAEpics ()
        self.ca.update_position.connect (self.updateMotors)


    def updateMotors (self, mot_num, pos) :
        print "move motor : " + mot_num +"   to position : " + pos
        #if mot_num == 0 :




if __name__=='__main__':
    app = QtGui.QApplication(sys.argv)
    GS = gridscan()
    GS.show()
    sys.exit(app.exec_())

